import socket
import sys

addr = "18:9C:2C:XX:XX:XX"
port = 10
presets = {
    'soundcore': '08ee00000002832000000078787878787878787800787878787878787878000b',
    'soundcore_bass': '08ee000000028320000200a09682787878787878007b7a787878787878780062',
    'acustica': '08ee000000028320000100a0828c8ca0a0a08c78007d767b787c7a7c79780003',
    'redutor_graves': '08ee000000028320000300505a6e7878787878780075767878787878787800b9',
    'classico': '08ee00000002832000040096966464788c96a078007a7c7477787a797d780086',
    'podcast': '08ee0000000283200005005a8ca0a0968c78647800747b7a7b797a7875780078',
    'danca': '08ee0000000283200006008c5a6e828c8c825a78007c7378787a797b7378001b',
    'deep': '08ee0000000283200007008c8296968c64504678007a777b797b767673780011',
    'eletronica': '08ee000000028320000800968c648c828c969678007a7b737d777a7a7b7800aa',
    'flat': '08ee00000002832000090064646e7878786464780076777778787976767800b3',
    'hip_hop': '08ee000000028320000a008c966e6e8c6e8c967800797c76767d747b7b780077',
    'jazz': '08ee000000028320000b008c8c6464788c96a07800797b7577787a797d780078',
    'latina': '08ee000000028320000c0078786464647896aa78007879767776787a7e78002f',
    'lounge': '08ee000000028320000d006e8ca09678648c827800767a7b7a78747c78780077',
    'piano': '08ee000000028320000e007896968ca0aa96a07800777b7a787b7c787d780019',
    'pop': '08ee000000028320000f006e829696826e645a780077797a7a79777775780024',
    'r&b': '08ee000000028320001000b48c64648c9696a078007e7976757b7a797d7800c8',
    'rock': '08ee000000028320001100968c6e6e8296a0aa78007a7a7677797a7a7e7800c8',
    'pequeno_altofalante': '08ee000000028320001200a0968278645a505078007b7a7879767675747800e6',
    'palavra': '08ee0000000283200013005a64828c8c82785a780076767a797a787974780008',
    'amplificador_agudos': '08ee0000000283200014006464646e828c8ca0780076777777797a787d780036',
    'redutor_agudos': '08ee000000028320001500787878645a50503c78007878797677757771780055'
}
    

eq_command = bytes.fromhex(presets[sys.argv[1]])

try:
    s = socket.socket(socket.AF_BLUETOOTH, socket.SOCK_STREAM, socket.BTPROTO_RFCOMM)
    
    print(f"Conectando ao canal {port} de {addr}...")
    s.connect((addr, port))
    
    print("Enviando comando de equalização...")
    s.send(eq_command)
    
    print("Sucesso!")
    s.close()
except Exception as e:
    print(f"Erro ao conectar: {e}")
